extends layout

block content
  h1= title
  p Welcome to #{title}
  div
    - var admin =process.env.ADMIN_ID;
    if user  && user.username==admin
      p 管理者IDでログイン中
      a(href="/logout") #{user.username} をログアウト
      
      div
          a(href="/editor") 管理者ページにログイン
      div
        a(href="/posts/new") コラムを作る
      - var hasColumn = columns.length > 0
      if hasColumn
      div
        h3 あなたの作ったコラム一覧
        table
          tr
            th コラム名
            th 更新日時
          each column in columns 
            tr
              td
                a(href=`/posts/${column.columnId}`) #{column.columnName}
              td #{column.updatedAt}
      
      
    
      div
         a(href="/editor/admitted") 公開中のコラム一覧  
          

          



    else if user
      div
        a(href="/logout") #{user.username} をログアウト
      div
        a(href="/posts/new") コラムを作る

      - var hasColumn = columns.length > 0
      if hasColumn
        h3 あなたの作ったコラム一覧
        table
          tr
            th コラム名
            th 更新日時
          each column in columns
            tr
              td
                a(href=`/posts/${column.columnId}`) #{column.columnName}
              td #{column.updatedAt}
      div
         a(href="/editor/admitted") 公開中のコラム一覧  
   
    else 
      a(href="/login") ログイン

      div
         a(href="/editor/admitted") 公開中のコラム一覧  
          
          
